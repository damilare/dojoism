#! /usr/bin/env python
from music21 import *
import random
import sys
environment.set('midiPath', str('/usr/bin/timidity'))
environment.set('musicxmlPath', str('/usr/bin/musescore'))

def make_amazing_art(name):
    tune = stream.Score()
    random.seed(name)
    for thing in range(len(name) * random.randint(1, 5)):
        chord_or_note =random.randint(1,3)
        if chord_or_note == 1:
            # Note
            tune.append(note.Note(random.randint(-30, 30), quarterLength=2))
        else:
            # Chord
            tune.append(chord.Chord([
                random.randint(-30, 30),
                random.randint(-30, 30),
                random.randint(-30, 30)],
                quarterLength=2),
                )
    tune.show('midi')
    tune.show()


if __name__ == '__main__':
    while True:
        name = raw_input("Enter name of Randomus Namus' student:")
        if name == 'Randomus Namus':
            print('This is no venue for the performance of works of such a master!')
            sys.exit()
        make_amazing_art(name)
